<html>
<head>
   



<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyB_wfVW612S3BVqSVkmANehnSBBjhVWWtg",
    authDomain: "file1-5809b.firebaseapp.com",
    databaseURL: "https://file1-5809b.firebaseio.com",
    projectId: "file1-5809b",
    storageBucket: "file1-5809b.appspot.com",
    messagingSenderId: "611835321934"
  };
  firebase.initializeApp(config);
</script>
</head>
    <body>
    <h1>WELCOME TO THE WATER APP</h1>
        <p>Metrotown station</p>
        
        <div id="nearby">nearby</div>
        <div id="other">other</div>
        <p>Surrey Central</p>
        <div id="nearby1">nearby</div>
        <div id="other1">other</div>
        <p>King george</p>
        <div id="nearby2">nearby</div>
        <div id="other2">other</div>
        
     <script>
        document.getElementById("nearby").addEventListener("click",
            function(){
                console.log("u clicked nearby");
                ShowList("metrotown", "nearby");
            }
         );
          document.getElementById("other").addEventListener("click",
                                                     function(){
              console.log("u clicked other");
            ShowList("metrotown","other");
        }
         );
          document.getElementById("nearby2").addEventListener("click",
                                                     function(){
               console.log("u clicked other");
            ShowList("surrey central","nearby2");
        }
         );
          document.getElementById("other2").addEventListener("click",
                                                     function(){
               console.log("u clicked other");
            ShowList("surrey central","other2");
        }
         );
          document.getElementById("nearby1").addEventListener("click",
                                                     function(){
               console.log("u clicked other");
            ShowList("king george","nearby1");
        }
         );
           document.getElementById("other1").addEventListener("click",
                                                     function(){
                console.log("u clicked other");
            ShowList("king george","other1");
        }
         );
         function ShowList(location, category){
          
             var dbRef = firebase.database().ref(location+"/"+category);
             var promise =  dbRef.once("value", function(snap){
                 list=snap.val();
             });
                     promise.then(function(){
                    
                 DisplayList(list);  //JSON object
             });
         
             function DisplayList(list){
             console.log(list);
             for(x in list){
             var para=document.createElement("p");
             document.body.appendChild(para);
             var node = document.createTextNode(x);
                 para.appendChild(node);
             }
         }}
        </script>
        
    </body>
</html>